<div class="cert-container"  *ngIf="isLoaded; else loading"> 
    <div class="background"></div>
    <div class="row content">
        <div class="col-lg-6 col-md-12 text-box">
            <h1 class="">
                {{title}}
            </h1>
            <h3>
                {{subtitle}}
            </h3>
            <br>
            <br>
            <h2>
                {{description_title}}
            </h2>
            <br>
            <p>
                {{description}}
            </p>
        </div>
        <div class="col-lg-6 col-md-12 form-container">

          <div class="contact-block">
            <form id="contactForm" (ngSubmit)="formSubmit()" #contactForm="ngForm">
                <div class="row">
                    <div class="col-sm-12">

                    <div class="form-group">
                        <input type="text" class="form-control input" id="name" [(ngModel)]="form.name" name="name" #name="ngModel" placeholder="Your Name" required data-error="Please enter your name">
                        <div [hidden]="name.valid || name.pristine" class="alert alert-danger">
                            Name is required
                        </div>
                    </div>               

                    </div>
                    <div class="col-sm-12">
                    <div class="form-group">
                        <input type="text" placeholder="Your Phone Number" id="phone" class="form-control input" [(ngModel)]="form.phone" name="phone" #phone="ngModel" required data-error="Please enter your phone number">
                        <div [hidden]="phone.valid || phone.pristine" class="alert alert-danger">
                            Phone is required
                        </div>
                    </div> 

                    </div>
                    <div class="col-md-12">
                    <div class="form-group">
                        <input type="text" placeholder="Your Email" id="email" class="form-control input" [(ngModel)]="form.email" name="email" #email="ngModel" required data-error="Please enter your email">
                        <div [hidden]="email.valid || email.pristine" class="alert alert-danger">
                            Email is required
                        </div>
                        <div [hidden]="!isEmailInvalid" class="alert alert-danger">
                            Valid Email is required
                        </div>
                    </div> 
                    </div>

                    
                    <div class="col-md-12">
                      <div class="form-group">
                        <input type="text" placeholder="Best Time to Reach You" id="timeToReach" class="form-control input" [(ngModel)]="form.timeToReach" name="timeToReach" #timeToReach="ngModel" required data-error="Please enter the best time to reach you">
                        <div [hidden]="timeToReach.valid || timeToReach.pristine" class="alert alert-danger">
                            Best Time to Reach You is required
                        </div>
                    </div> 
                    </div>

                    <div class="submit-button text-center">
                        <button *ngIf="!submitted && !formError" class="btn btnGreen" [disabled]="!contactForm.form.valid" id="submit" type="submit">Send Message</button>
                        <!-- <div id="msgSubmit" class="h3 text-center hidden"></div>  -->
                        <!-- <div class="clearfix"></div>  -->
                        <button *ngIf="submitted" class="btn btnGreen" id="submit">Sent!</button>
                        <button *ngIf="formError" class="alert alert-danger" id="submit">Something went wrong. Try refreshing the page.</button>
                    </div>
                    </div>
                <!-- </div>             -->
            </form>
        </div>

        </div>
    </div>
</div>

<ng-template #loading>
  <div class="loader-wrapper" style="height: 50vh">
    <div class="loader">
      <mat-spinner></mat-spinner>
    </div>
  </div>
</ng-template>